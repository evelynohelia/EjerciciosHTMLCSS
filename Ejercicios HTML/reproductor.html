<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="author" content="Evelyn Mejia"/>
    <meta name="viewport" content="width=device-width">
    <title>Audio</title>
  </head>
  <body>
    <center>
      <h1>The audio element</h1>
      <p>Click on the play button to play a sound:</p>
      <!-- //Reproductor con autoplay y loop-->
      <!--<audio controls autoplay loop>
        <source src="piano.mp3" type="audio/mpeg" >
      </audio>-->
      <div id="reproductorBox"></div>
      <select id = "selectTrack" multiple onchange="cambiarTrack(this.options[this.selectedIndex]);">
      <option path="violin.mp3">Violin</option>
      <option path="guitarra.mp3">Guitarra</option>
      <option path="piano.mp3">Piano</option>
      </select>

    </center>
    <script>
    function cambiarTrack(track) {
    var path =  track.getAttribute("path")
    viejo_audio = document.getElementById("reproductor")
    audio_padre = viejo_audio.parentNode
    audio_padre.removeChild(viejo_audio)
    nuevo_audio = document.createElement("audio")
    nuevo_audio.setAttribute("id","reproductor")
    nuevo_audio.setAttribute("controls", "controls")
    nuevo_audio.setAttribute("autoplay", "autoplay")
    nuevo_audio.setAttribute("loop", "loop")
    source = document.createElement("source")
    source.setAttribute("src", path)
    source.setAttribute("type", "audio/mpeg")
    source.setAttribute("id", "reproductorSource")
    nuevo_audio.appendChild(source)
    audio_padre.appendChild(nuevo_audio)}
    function cargarReproductor() {
      var select = document.getElementById("selectTrack")
      var path = select.options[0].getAttribute("path")
      nuevo_audio = document.createElement("audio")
      nuevo_audio.setAttribute("id","reproductor")
      nuevo_audio.setAttribute("controls", "controls")       
      source = document.createElement("source")
      source.setAttribute("src", path)
      source.setAttribute("type", "audio/mpeg")
      source.setAttribute("id", "reproductorSource")
      nuevo_audio.appendChild(source)
      padre = document.getElementById("reproductorBox")
      padre.appendChild(nuevo_audio)
    }
    </script>
    <script>cargarReproductor();</script>
  
  </body>

 
</html>